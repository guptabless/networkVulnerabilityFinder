import networkscan
import socket
import sys
import bcolors

def banner():
    print("""

            ███╗░░██╗███████╗████████╗░██╗░░░░░░░██╗░█████╗░██████╗░██╗░░██╗░░░░░░░██████╗░█████╗░░█████╗░███╗░░██╗███╗░░██╗███████╗██████╗░
            ████╗░██║██╔════╝╚══██╔══╝░██║░░██╗░░██║██╔══██╗██╔══██╗██║░██╔╝░░░░░░██╔════╝██╔══██╗██╔══██╗████╗░██║████╗░██║██╔════╝██╔══██╗
            ██╔██╗██║█████╗░░░░░██║░░░░╚██╗████╗██╔╝██║░░██║██████╔╝█████═╝░█████╗╚█████╗░██║░░╚═╝███████║██╔██╗██║██╔██╗██║█████╗░░██████╔╝
            ██║╚████║██╔══╝░░░░░██║░░░░░████╔═████║░██║░░██║██╔══██╗██╔═██╗░╚════╝░╚═══██╗██║░░██╗██╔══██║██║╚████║██║╚████║██╔══╝░░██╔══██╗
            ██║░╚███║███████╗░░░██║░░░░░╚██╔╝░╚██╔╝░╚█████╔╝██║░░██║██║░╚██╗░░░░░░██████╔╝╚█████╔╝██║░░██║██║░╚███║██║░╚███║███████╗██║░░██║
            ╚═╝░░╚══╝╚══════╝░░░╚═╝░░░░░░╚═╝░░░╚═╝░░░╚════╝░╚═╝░░╚═╝╚═╝░░╚═╝░░░░░░╚═════╝░░╚════╝░╚═╝░░╚═╝╚═╝░░╚══╝╚═╝░░╚══╝╚══════╝╚═╝░░╚═╝
                                                                                                                         Coded By - NG  """
                 )
banner()
try:
       network_range = '192.168.0.0/24'
       scan_network = networkscan.Networkscan(network_range)
       print(bcolors.OKMSG + "Network Range:" ,scan_network.network)
       scan_network.run()

       for ipAddress in scan_network.list_of_hosts_found:
           print(bcolors.OKMSG + " " , ipAddress)
           ip = socket.gethostbyname(socket.gethostname())  # getting ip-address of host
           host_name = socket.gethostname()
           host_ip = socket.gethostbyname(ipAddress)
           port_list = [20, 21, 22, 23, 25, 69, 80, 110, 139, 161, 162, 443, 3306, 3389, 8080]
           print(bcolors.BITALIC + "Checking most common available open ports in: " + ipAddress)
           try:
               for port in port_list:
                   sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
                   connect = sock.connect_ex((host_ip, port))
                   if connect == 0:
                       print("Port {}:    is Open".format(port))
                       sock.close()
           except socket.gaierror:
               print(bcolors.ERRMSG + "HostName Can't be resolved")
               sys.exit()

           except socket.error:
               print(bcolors.ERRMSG + "Server Not Found")
               sys.exit()

except:
        print(bcolors.ERRMSG + 'Network scanning for this range not possible')

